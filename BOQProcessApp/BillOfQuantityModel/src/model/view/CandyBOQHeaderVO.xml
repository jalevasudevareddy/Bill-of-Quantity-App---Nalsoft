<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="CandyBOQHeaderVO"
  Version="11.1.1.66.73"
  InheritPersonalization="true"
  SelectList="XxboqBillOfQtyHdrEO.APPROVED_BY, 
       XxboqBillOfQtyHdrEO.APPROVED_DATE, 
       XxboqBillOfQtyHdrEO.BOQ_HEADER_ID, 
       XxboqBillOfQtyHdrEO.BUDGET_TYPE, 
       XxboqBillOfQtyHdrEO.BUSINESS_UNIT_ID, 
       XxboqBillOfQtyHdrEO.CREATED_BY, 
       XxboqBillOfQtyHdrEO.CREATION_DATE, 
       XxboqBillOfQtyHdrEO.IBC_NUMBER, 
       XxboqBillOfQtyHdrEO.IBC_REASON, 
       XxboqBillOfQtyHdrEO.IMPORT_DATE, 
       XxboqBillOfQtyHdrEO.LAST_UPDATED_BY, 
       XxboqBillOfQtyHdrEO.LAST_UPDATED_DATE, 
       XxboqBillOfQtyHdrEO.PROJECT_ID, 
       XxboqBillOfQtyHdrEO.REVISION_DATE, 
       XxboqBillOfQtyHdrEO.STATUS, 
       XxboqBillOfQtyHdrEO.VERSION, 
       XxinvBusinessUnitsEO.BU_NAME, 
       XxinvBusinessUnitsEO.BU_ID, 
       XxpjProjectsEO.PROJECT_NAME, 
       XxpjProjectsEO.PROJECT_NUMBER, 
       XxpjProjectsEO.PROJECT_ID AS PROJECT_ID1, 
       (select  MEANING from XXBOQ_LOOKUPS_T where LOOKUP_TYPE='CANDY_BUDGET_TYPE' and LOOKUP_CODE=XxboqBillOfQtyHdrEO.BUDGET_TYPE  and ROWNUM=1) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.TOTAL_NET_FINAL_AMOUNT, 
       XxboqBillOfQtyHdrEO.TOTAL_CANDY_NET_FINAL_AMOUNT, 
       XxboqBillOfQtyHdrEO.VALIDATION_HEADER_ID, 
       XxboqBillOfQtyHdrEO.TOTAL_CANDY_SELLING_AMOUNT, 
       XxboqBillOfQtyHdrEO.CURRENT_FLAG, 
       (SELECT nvl( XxfiCurrenciesEO.PRECISION,2)    FROM XXFI_CURRENCIES_T XxfiCurrenciesEO WHERE XxfiCurrenciesEO.CURRENCY_CODE =ContractHeadersEO.CURRENCY_CODE and rownum=1) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.REASON_FOR_VARIATION, 
       (select case when count(ph.pc_header_id) > 0 then 'Y' else 'N' end from xxboq_pc_hdr_t ph where ph.project_id = XxboqBillOfQtyHdrEO.PROJECT_ID) AS VIEW_ATTR, 
       (select customer_name from okc_k_headers_vl okc where okc.contract_id = ContractHeadersEO.contract_id) AS VIEW_ATTR, 
       (select vh.file_name from xxboq_validation_header_t vh where vh.validation_header_id = XxboqBillOfQtyHdrEO.validation_header_id) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.BASE_LINE, 
       (select case when at.Coun= 0 then 'None' when at.coun = 1 then (select atta.file_name from xx_attachments_t atta where atta.attachment_code='BOQ_UPLOAD' and atta.reference_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID) else 'Multiple' end from (select count(att.attachment_id) coun from xx_attachments_t att where att.attachment_code='BOQ_UPLOAD' and att.reference_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID) at) AS VIEW_ATTR, 
       (select nvl(sum(vl.selling_amount),0) from xxboq_bill_of_qty_lines_t vl where vl.boq_header_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID and vl.line_type in('V','C') and vl.estimated = 'Y' and bill_page_item is not null) AS VIEW_ATTR, 
       XxpjProjectsEO.PROJECT_CURRENCY_CODE, 
       XxboqBillOfQtyHdrEO.BASE_LINE_BOQ_HDR_ID, 
       XxboqBillOfQtyHdrEO.BUDGET_FLAG, 
       (select nvl(sum(vl.anticipated_value),0) from xxboq_bill_of_qty_lines_t vl where vl.line_type in('V','C') and vl.approved != 'Y' and vl.BOQ_header_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID and price_code is not null) AS VIEW_ATTR, 
       (SELECT nvl(SUM(nvl(selling_amount,0) ),0) FROM xxboq_bill_of_qty_lines_t WHERE boq_header_id = xxboqbillofqtyhdreo.boq_header_id and BILL_PAGE_ITEM is not null) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.CONTRACT_ID, 
       XxboqBillOfQtyHdrEO.CONTRACT_TYPE, 
       XxboqBillOfQtyHdrEO.LEDGER_CURRENCY_CONV_DATE, 
       XxboqBillOfQtyHdrEO.LEDGER_CURRENCY_CONV_RATE, 
       XxboqBillOfQtyHdrEO.LEDGER_CURRENCY_CONV_RATE_TYPE, 
       XxpjProjectsEO.DESCRIPTION, 
       ContractHeadersEO.ADDRESS, 
       ContractHeadersEO.CONTRACT_ID AS CONTRACT_ID1, 
       ContractHeadersEO.COGNOMEN, 
       ContractHeadersEO.CONTRACT_NUMBER, 
       ContractHeadersEO.CURRENCY_CODE, 
       ContractHeadersEO.BILL_TO_ACCT_NUMBER, 
       ContractHeadersEO.BILL_TO_SITE, 
       (SELECT lo.meaning FROM xxboq_lookups_t lo WHERE lo.lookup_type = 'CONTRACT_TYPE' and lo.lookup_code = XxboqBillOfQtyHdrEO.CONTRACT_TYPE) AS VIEW_ATTR, 
       (SELECT lo.meaning FROM xxboq_lookups_t lo WHERE lo.lookup_type = 'LEDGER_CURRENCY_CONV_RATE_TYPE' and lo.lookup_code= XxboqBillOfQtyHdrEO.LEDGER_CURRENCY_CONV_RATE_TYPE) AS VIEW_ATTR, 
       XxinvBusinessUnitsEO.CURRENCY_CODE AS CURRENCY_CODE1, 
       ContractHeadersEO.MAJOR_VERSION, 
       (SELECT nvl( XxfiCurrenciesEO.PRECISION,2)    FROM XXFI_CURRENCIES_T XxfiCurrenciesEO WHERE XxfiCurrenciesEO.CURRENCY_CODE = XxinvBusinessUnitsEO.CURRENCY_CODE and rownum=1) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.FINANCIAL_PLAN_FLAG, 
       XxboqBillOfQtyHdrEO.PERIOD, 
       XxboqBillOfQtyHdrEO.PLAN_TYPE_ID, 
       XxboqBillOfQtyHdrEO.PLAN_VERSION_DESCRIPTION, 
       XxboqBillOfQtyHdrEO.PLAN_VERSION_NAME, 
       (select pp.name from pjo_plan_types_tl pp where pp.plan_type_id = XxboqBillOfQtyHdrEO.PLAN_TYPE_ID and rownum=1) AS VIEW_ATTR, 
       ContractHeadersEO.START_DATE, 
       ContractHeadersEO.END_DATE, 
       NVL((select max(to_date('01-'||bh.period,'dd-Mon-yyyy')) from xxboq_bill_of_qty_hdr_t bh where bh.STATUS != 'CL' and bh.business_unit_id = XxboqBillOfQtyHdrEO.BUSINESS_UNIT_ID and bh.contract_id = XxboqBillOfQtyHdrEO.CONTRACT_ID and bh.boq_header_id != XxboqBillOfQtyHdrEO.BOQ_HEADER_ID AND bh.period is not null and bh.budget_flag='Y'),ContractHeadersEO.START_DATE) AS VIEW_ATTR, 
       XxboqBillOfQtyHdrEO.PREVIOUS_BUDGET_BOQ_HDR_ID, 
       (select bo.period from xxboq_bill_of_qty_hdr_t bo where bo.boq_header_id = XxboqBillOfQtyHdrEO.PREVIOUS_BUDGET_BOQ_HDR_ID) AS VIEW_ATTR"
  FromList="XXBOQ_BILL_OF_QTY_HDR_T XxboqBillOfQtyHdrEO, XXINV_BUSINESS_UNITS_T XxinvBusinessUnitsEO, XXPJ_PROJECTS_T XxpjProjectsEO, OKC_K_HEADERS_VL ContractHeadersEO"
  BindingStyle="OracleName"
  CustomQuery="false"
  RowClass="model.view.CandyBOQHeaderVORowImpl"
  ComponentClass="model.view.CandyBOQHeaderVOImpl"
  PageIterMode="Full"
  UseGlueCode="false"
  OrderBy="XxboqBillOfQtyHdrEO.BOQ_HEADER_ID desc"
  Where="XxboqBillOfQtyHdrEO.BUSINESS_UNIT_ID=XxinvBusinessUnitsEO.BU_ID and
XxboqBillOfQtyHdrEO.PROJECT_ID=XxpjProjectsEO.PROJECT_ID(+) and 
XxboqBillOfQtyHdrEO.CONTRACT_ID = ContractHeadersEO.CONTRACT_ID">
  <DesignTime>
    <Attr Name="_codeGenFlag2" Value="Access|Coll|VarAccess"/>
    <Attr Name="_isCodegen" Value="true"/>
  </DesignTime>
  <ViewAccessor
    Name="PlanTypesLOVVO1"
    ViewObjectName="model.searchview.PlanTypesLOVVO">
    <ViewCriteriaUsage
      Name="PlanTypesLOVVOCriteria"
      FullName="model.searchview.PlanTypesLOVVO.PlanTypesLOVVOCriteria"/>
    <ParameterMap>
      <PIMap Variable="p_boq_header_id">
        <TransientExpression><![CDATA[BoqHeaderId]]></TransientExpression>
      </PIMap>
    </ParameterMap>
  </ViewAccessor>
  <ViewAccessor
    Name="AgreementMonthsVO1"
    ViewObjectName="model.progview.AgreementMonthsVO">
    <ViewCriteriaUsage
      Name="AgreementMonthsVOCriteria"
      FullName="model.progview.AgreementMonthsVO.AgreementMonthsVOCriteria"/>
    <ParameterMap>
      <PIMap Variable="p_agr_endDate">
        <TransientExpression><![CDATA[EndDate]]></TransientExpression>
      </PIMap>
      <PIMap Variable="p_agr_startDate">
        <TransientExpression><![CDATA[TransMaxContractStartDate]]></TransientExpression>
      </PIMap>
    </ParameterMap>
  </ViewAccessor>
  <ListBinding
    Name="LOV_TransFinancialPlanType"
    ListVOName="PlanTypesLOVVO1"
    ListRangeSize="10"
    NullValueFlag="none"
    NullValueId="LOV_TransFinancialPlanType_LOVUIHints_NullValueId"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="TransFinancialPlanType"/>
    </AttrArray>
    <AttrArray Name="DerivedAttrNames">
      <Item Value="PlanTypeId"/>
    </AttrArray>
    <AttrArray Name="ListAttrNames">
      <Item Value="Name"/>
      <Item Value="PlanTypeId"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="Name"/>
      <Item Value="Description"/>
    </AttrArray>
    <DisplayCriteria
      Name="PlanTypesLOVVOCriteria"
      Hint="showAndExecute"/>
  </ListBinding>
  <ListBinding
    Name="LOV_Period"
    ListVOName="AgreementMonthsVO1"
    ListRangeSize="10"
    NullValueFlag="none"
    NullValueId="LOV_Period_LOVUIHints_NullValueId"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="Period"/>
    </AttrArray>
    <AttrArray Name="ListAttrNames">
      <Item Value="TransAgreementMonth"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="TransAgreementMonth"/>
    </AttrArray>
    <DisplayCriteria
      Name="AgreementMonthsVOCriteria"
      Hint="showAndExecute"/>
  </ListBinding>
  <EntityUsage
    Name="XxboqBillOfQtyHdrEO"
    Entity="model.entity.XxboqBillOfQtyHdrEO"/>
  <EntityUsage
    Name="XxinvBusinessUnitsEO"
    Entity="model.masterentity.XxinvBusinessUnitsEO"
    SourceUsage="model.view.CandyBOQHeaderVO.XxboqBillOfQtyHdrEO"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false">
    <DesignTime>
      <Attr Name="_customjoin" Value="true"/>
    </DesignTime>
  </EntityUsage>
  <EntityUsage
    Name="XxpjProjectsEO"
    Entity="model.masterentity.XxpjProjectsEO"
    SourceUsage="model.view.CandyBOQHeaderVO.XxinvBusinessUnitsEO"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false">
    <DesignTime>
      <Attr Name="_customjoin" Value="true"/>
    </DesignTime>
  </EntityUsage>
  <EntityUsage
    Name="ContractHeadersEO"
    Entity="model.masterentity.ContractHeadersEO"
    SourceUsage="model.view.CandyBOQHeaderVO.XxpjProjectsEO"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"/>
  <ViewAttribute
    Name="ApprovedBy"
    PrecisionRule="true"
    EntityAttrName="ApprovedBy"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="APPROVED_BY"/>
  <ViewAttribute
    Name="ApprovedDate"
    PrecisionRule="true"
    EntityAttrName="ApprovedDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="APPROVED_DATE"/>
  <ViewAttribute
    Name="BoqHeaderId"
    PrecisionRule="true"
    EntityAttrName="BoqHeaderId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BOQ_HEADER_ID"/>
  <ViewAttribute
    Name="BudgetType"
    PrecisionRule="true"
    EntityAttrName="BudgetType"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BUDGET_TYPE"/>
  <ViewAttribute
    Name="BusinessUnitId"
    PrecisionRule="true"
    EntityAttrName="BusinessUnitId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BUSINESS_UNIT_ID">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BUSINESS_UNIT"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="CreatedBy"
    PrecisionRule="true"
    EntityAttrName="CreatedBy"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="CREATED_BY"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="CreationDate"
    PrecisionRule="true"
    EntityAttrName="CreationDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="CREATION_DATE"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="IbcNumber"
    PrecisionRule="true"
    EntityAttrName="IbcNumber"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="IBC_NUMBER"/>
  <ViewAttribute
    Name="IbcReason"
    PrecisionRule="true"
    EntityAttrName="IbcReason"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="IBC_REASON"/>
  <ViewAttribute
    Name="ImportDate"
    PrecisionRule="true"
    EntityAttrName="ImportDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="IMPORT_DATE">
    <Properties>
      <SchemaBasedProperties>
        <FMT_FORMATTER
          ResId="model.view.CandyBOQHeaderVO.ImportDate_FMT_FORMATTER"/>
        <FMT_FORMAT
          ResId="model.view.CandyBOQHeaderVO.ImportDate_FMT_FORMAT"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="LastUpdatedBy"
    PrecisionRule="true"
    EntityAttrName="LastUpdatedBy"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="LAST_UPDATED_BY"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="LastUpdatedDate"
    PrecisionRule="true"
    EntityAttrName="LastUpdatedDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="LAST_UPDATED_DATE"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="ProjectId"
    PrecisionRule="true"
    EntityAttrName="ProjectId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PROJECT_ID"/>
  <ViewAttribute
    Name="RevisionDate"
    PrecisionRule="true"
    EntityAttrName="RevisionDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="REVISION_DATE">
    <Properties>
      <SchemaBasedProperties>
        <FMT_FORMATTER
          ResId="model.view.CandyBOQHeaderVO.RevisionDate_FMT_FORMATTER"/>
        <FMT_FORMAT
          ResId="model.view.CandyBOQHeaderVO.RevisionDate_FMT_FORMAT"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Status"
    PrecisionRule="true"
    EntityAttrName="Status"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="STATUS"/>
  <ViewAttribute
    Name="Version"
    PrecisionRule="true"
    EntityAttrName="Version"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="VERSION"/>
  <ViewAttribute
    Name="BuName"
    PrecisionRule="true"
    EntityAttrName="BuName"
    EntityUsage="XxinvBusinessUnitsEO"
    AliasName="BU_NAME"/>
  <ViewAttribute
    Name="BuId"
    PrecisionRule="true"
    EntityAttrName="BuId"
    EntityUsage="XxinvBusinessUnitsEO"
    AliasName="BU_ID"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="ProjectName"
    PrecisionRule="true"
    EntityAttrName="ProjectName"
    EntityUsage="XxpjProjectsEO"
    AliasName="PROJECT_NAME"/>
  <ViewAttribute
    Name="ProjectNumber"
    PrecisionRule="true"
    EntityAttrName="ProjectNumber"
    EntityUsage="XxpjProjectsEO"
    AliasName="PROJECT_NUMBER"/>
  <ViewAttribute
    Name="ProjectId1"
    PrecisionRule="true"
    EntityAttrName="ProjectId"
    EntityUsage="XxpjProjectsEO"
    AliasName="PROJECT_ID1"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="TransTotalCostBudgetCandy"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="TOTAL_COST_BUDGET_CANDY"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransTotalCostBudget"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="TOTAL_COST_BUDGET"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransAbsoluteError"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="ABSOLUTE_ERROR_"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransStatus"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="STATUS"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransBudgetType"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select  MEANING from XXBOQ_LOOKUPS_T where LOOKUP_TYPE='CANDY_BUDGET_TYPE' and LOOKUP_CODE=XxboqBillOfQtyHdrEO.BUDGET_TYPE  and ROWNUM=1)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BUDGET_TYPE"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TotalNetFinalAmount"
    PrecisionRule="true"
    EntityAttrName="TotalNetFinalAmount"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="TOTAL_NET_FINAL_AMOUNT">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="TOTAL_NET_FINAL_AMOUNT"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TotalCandyNetFinalAmount"
    PrecisionRule="true"
    EntityAttrName="TotalCandyNetFinalAmount"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="TOTAL_CANDY_NET_FINAL_AMOUNT">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="TOTAL_CANDY_NET_FINAL_AMOUNT_"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ValidationHeaderId"
    PrecisionRule="true"
    EntityAttrName="ValidationHeaderId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="VALIDATION_HEADER_ID"/>
  <ViewAttribute
    Name="TotalCandySellingAmount"
    PrecisionRule="true"
    EntityAttrName="TotalCandySellingAmount"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="TOTAL_CANDY_SELLING_AMOUNT"/>
  <ViewAttribute
    Name="CurrentFlag"
    PrecisionRule="true"
    EntityAttrName="CurrentFlag"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="CURRENT_FLAG">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CURRENT_FLAG"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransAbsoluteErrorPercentage"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"/>
  <ViewAttribute
    Name="TransPrecision"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"
    Expression="(SELECT nvl( XxfiCurrenciesEO.PRECISION,2)    FROM XXFI_CURRENCIES_T XxfiCurrenciesEO WHERE XxfiCurrenciesEO.CURRENCY_CODE =ContractHeadersEO.CURRENCY_CODE and rownum=1)"/>
  <ViewAttribute
    Name="ReasonForVariation"
    PrecisionRule="true"
    EntityAttrName="ReasonForVariation"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="REASON_FOR_VARIATION">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.view.BoqValidationHeaderVO.ReasonForVariation_LABEL"/>
        <DISPLAYWIDTH
          Value="50"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransNumberofPcLines"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="select case when count(ph.pc_header_id) > 0 then 'Y' else 'N' end from xxboq_pc_hdr_t ph where ph.project_id = XxboqBillOfQtyHdrEO.PROJECT_ID"/>
  <ViewAttribute
    Name="TransCustomerName"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select customer_name from okc_k_headers_vl okc where okc.contract_id = ContractHeadersEO.contract_id)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CUSTOMER_NAME"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransFileName"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select vh.file_name from xxboq_validation_header_t vh where vh.validation_header_id = XxboqBillOfQtyHdrEO.validation_header_id)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="FILE_NAME"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="BaseLine"
    PrecisionRule="true"
    EntityAttrName="BaseLine"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BASE_LINE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.view.BoqValidationHeaderSearchVO.TransBaseLine_LABEL"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransAttachments"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select case when at.Coun= 0 then 'None' when at.coun = 1 then (select atta.file_name from xx_attachments_t atta where atta.attachment_code='BOQ_UPLOAD' and atta.reference_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID) else 'Multiple' end from (select count(att.attachment_id) coun from xx_attachments_t att where att.attachment_code='BOQ_UPLOAD' and att.reference_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID) at)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="ATTACHMENTS"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransUnapprovedAmount"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"
    Expression="(select nvl(sum(vl.selling_amount),0) from xxboq_bill_of_qty_lines_t vl where vl.boq_header_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID and vl.line_type in('V','C') and vl.estimated = 'Y' and bill_page_item is not null)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="UNAPPROVED_AMOUNT"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ProjectCurrencyCode"
    PrecisionRule="true"
    EntityAttrName="ProjectCurrencyCode"
    EntityUsage="XxpjProjectsEO"
    AliasName="PROJECT_CURRENCY_CODE"/>
  <ViewAttribute
    Name="BaseLineBoqHdrId"
    PrecisionRule="true"
    EntityAttrName="BaseLineBoqHdrId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BASE_LINE_BOQ_HDR_ID"/>
  <ViewAttribute
    Name="BudgetFlag"
    PrecisionRule="true"
    EntityAttrName="BudgetFlag"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="BUDGET_FLAG">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BUDGET_FLAG"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransAnticipatedValueTotal"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"
    Expression="(select nvl(sum(vl.anticipated_value),0) from xxboq_bill_of_qty_lines_t vl where vl.line_type in('V','C') and vl.approved != 'Y' and vl.BOQ_header_id = XxboqBillOfQtyHdrEO.BOQ_HEADER_ID and price_code is not null)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="ANTICIPATED_CONTRACT_VALUE"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransAnticipatedContractValueTotal"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="BIGINT"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"
    Expression="(SELECT nvl(SUM(nvl(selling_amount,0) ),0) FROM xxboq_bill_of_qty_lines_t WHERE boq_header_id = xxboqbillofqtyhdreo.boq_header_id and BILL_PAGE_ITEM is not null)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="ANTICIPATED_VALUE"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ContractId"
    PrecisionRule="true"
    EntityAttrName="ContractId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="CONTRACT_ID"/>
  <ViewAttribute
    Name="ContractType"
    PrecisionRule="true"
    EntityAttrName="ContractType"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="CONTRACT_TYPE"/>
  <ViewAttribute
    Name="LedgerCurrencyConvDate"
    PrecisionRule="true"
    EntityAttrName="LedgerCurrencyConvDate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="LEDGER_CURRENCY_CONV_DATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="LEDGER_CURRENCY_CONVERSION_DAT"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="LedgerCurrencyConvRate"
    PrecisionRule="true"
    EntityAttrName="LedgerCurrencyConvRate"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="LEDGER_CURRENCY_CONV_RATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="LEDGER_CURRENCY_CONV_RATE"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="LedgerCurrencyConvRateType"
    PrecisionRule="true"
    EntityAttrName="LedgerCurrencyConvRateType"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="LEDGER_CURRENCY_CONV_RATE_TYPE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="LEDGER_CURRENCY_CONVERSION_RAT"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Description"
    PrecisionRule="true"
    EntityAttrName="Description"
    EntityUsage="XxpjProjectsEO"
    AliasName="DESCRIPTION"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <DISPLAYWIDTH
          Value="50"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Address"
    PrecisionRule="true"
    EntityAttrName="Address"
    EntityUsage="ContractHeadersEO"
    AliasName="ADDRESS"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BILLTO_ADDRESS"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ContractId1"
    PrecisionRule="true"
    EntityAttrName="ContractId"
    EntityUsage="ContractHeadersEO"
    AliasName="CONTRACT_ID1"/>
  <ViewAttribute
    Name="Cognomen"
    PrecisionRule="true"
    EntityAttrName="Cognomen"
    EntityUsage="ContractHeadersEO"
    AliasName="COGNOMEN"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CONTRACT_NAME"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ContractNumber"
    PrecisionRule="true"
    EntityAttrName="ContractNumber"
    EntityUsage="ContractHeadersEO"
    AliasName="CONTRACT_NUMBER"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CONTRACT_NUMBER"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="CurrencyCode"
    PrecisionRule="true"
    EntityAttrName="CurrencyCode"
    EntityUsage="ContractHeadersEO"
    AliasName="CURRENCY_CODE"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CONTRACT_CURRENCY"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="BillToAcctNumber"
    PrecisionRule="true"
    EntityAttrName="BillToAcctNumber"
    EntityUsage="ContractHeadersEO"
    AliasName="BILL_TO_ACCT_NUMBER"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BILLTO_ACCOUNT_NUMBER"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="BillToSite"
    PrecisionRule="true"
    EntityAttrName="BillToSite"
    EntityUsage="ContractHeadersEO"
    AliasName="BILL_TO_SITE"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="BILLTO_SITE"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransContractType"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(SELECT lo.meaning FROM xxboq_lookups_t lo WHERE lo.lookup_type = 'CONTRACT_TYPE' and lo.lookup_code = XxboqBillOfQtyHdrEO.CONTRACT_TYPE)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CONTRACT_TYPE"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransLedgerCurrencyConvRateType"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(SELECT lo.meaning FROM xxboq_lookups_t lo WHERE lo.lookup_type = 'LEDGER_CURRENCY_CONV_RATE_TYPE' and lo.lookup_code= XxboqBillOfQtyHdrEO.LEDGER_CURRENCY_CONV_RATE_TYPE)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="LEDGER_CURRENCY_CONVERSION_RAT"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="CurrencyCode1"
    PrecisionRule="true"
    EntityAttrName="CurrencyCode"
    EntityUsage="XxinvBusinessUnitsEO"
    AliasName="CURRENCY_CODE1"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="PLANNING_CURRENCY"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="MajorVersion"
    PrecisionRule="true"
    EntityAttrName="MajorVersion"
    EntityUsage="ContractHeadersEO"
    AliasName="MAJOR_VERSION"
    IsUpdateable="false">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="CONTRACT_VERSION"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransLedgerPrecision"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="NUMERIC"
    Passivate="true"
    Expression="(SELECT nvl( XxfiCurrenciesEO.PRECISION,2)    FROM XXFI_CURRENCIES_T XxfiCurrenciesEO WHERE XxfiCurrenciesEO.CURRENCY_CODE = XxinvBusinessUnitsEO.CURRENCY_CODE and rownum=1)"/>
  <ViewAttribute
    Name="FinancialPlanFlag"
    PrecisionRule="true"
    EntityAttrName="FinancialPlanFlag"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="FINANCIAL_PLAN_FLAG">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="FINANCIAL_PLAN_FLAG"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Period"
    PrecisionRule="true"
    EntityAttrName="Period"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PERIOD"
    LOVName="LOV_Period">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="combo_lov"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="PlanTypeId"
    PrecisionRule="true"
    EntityAttrName="PlanTypeId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PLAN_TYPE_ID"/>
  <ViewAttribute
    Name="PlanVersionDescription"
    PrecisionRule="true"
    EntityAttrName="PlanVersionDescription"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PLAN_VERSION_DESCRIPTION">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="PLAN_VERSION_DESCRIPTION"/>
        <DISPLAYWIDTH
          Value="30"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="PlanVersionName"
    PrecisionRule="true"
    EntityAttrName="PlanVersionName"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PLAN_VERSION_NAME">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="PLAN_VERSION_NAME"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="TransFinancialPlanType"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select pp.name from pjo_plan_types_tl pp where pp.plan_type_id = XxboqBillOfQtyHdrEO.PLAN_TYPE_ID and rownum=1)"
    LOVName="LOV_TransFinancialPlanType">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="FINANCIAL_PLAN_TYPE"/>
        <CONTROLTYPE
          Value="combo_lov"/>
        <DISPLAYWIDTH
          Value="30"/>
        <AUTOSUBMIT
          Value="true"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="StartDate"
    PrecisionRule="true"
    EntityAttrName="StartDate"
    EntityUsage="ContractHeadersEO"
    AliasName="START_DATE"/>
  <ViewAttribute
    Name="EndDate"
    PrecisionRule="true"
    EntityAttrName="EndDate"
    EntityUsage="ContractHeadersEO"
    AliasName="END_DATE"/>
  <ViewAttribute
    Name="TransMaxContractStartDate"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Date"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="DATE"
    Passivate="true"
    Expression="NVL((select max(to_date('01-'||bh.period,'dd-Mon-yyyy')) from xxboq_bill_of_qty_hdr_t bh where bh.STATUS != 'CL' and bh.business_unit_id = XxboqBillOfQtyHdrEO.BUSINESS_UNIT_ID and bh.contract_id = XxboqBillOfQtyHdrEO.CONTRACT_ID and bh.boq_header_id != XxboqBillOfQtyHdrEO.BOQ_HEADER_ID AND bh.period is not null and bh.budget_flag='Y'),ContractHeadersEO.START_DATE)"/>
  <ViewAttribute
    Name="PreviousBudgetBoqHdrId"
    PrecisionRule="true"
    EntityAttrName="PreviousBudgetBoqHdrId"
    EntityUsage="XxboqBillOfQtyHdrEO"
    AliasName="PREVIOUS_BUDGET_BOQ_HDR_ID"/>
  <ViewAttribute
    Name="TransPreviousBudgetPeriod"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"
    Passivate="true"
    Expression="(select bo.period from xxboq_bill_of_qty_hdr_t bo where bo.boq_header_id = XxboqBillOfQtyHdrEO.PREVIOUS_BUDGET_BOQ_HDR_ID)">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.entity.XxboqPcHdrEO.PrevPeriod_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <AttrArray Name="KeyAttributes">
    <Item Value="BoqHeaderId"/>
  </AttrArray>
  <ViewLinkAccessor
    Name="CandyBOQLinesVO"
    ViewLink="model.viewlink.CandyBOQHdrToLinesVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ViewLinkAccessor
    Name="AttachmentsVO"
    ViewLink="model.viewlink.BOQHdrToAttachmentsVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ViewLinkAccessor
    Name="BoqBudgetLinesVO"
    ViewLink="model.viewlink.BoqHeaderToBudgetLinesVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="model.BillOfQuantityModelBundle"/>
  </ResourceBundle>
</ViewObject>
